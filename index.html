<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScoutMe - Ø§ÙƒØªØ´Ù Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Registration Overlay (Pi Network Authentication) -->
    <div id="reg-overlay" class="reg-overlay">
        <div class="reg-content">
            <img src="image/logo.png" alt="ScoutMe Logo" class="reg-logo">
            <h1 data-i18n="welcome_to_scoutme">Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ ÙÙŠ ScoutMe</h1>
            <p data-i18n="pi_network_login_desc">Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Pi Network Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ©</p>
            <button class="btn-pi-signin" onclick="piSignIn()">
                <span class="pi-icon">Ï€</span>
                <span data-i18n="signin_with_pi">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Pi Network</span>
            </button>
        </div>
    </div>

    <!-- Language Selector -->
    <div class="language-selector">
        <select id="languageSelect">
            <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
            <option value="en">English</option>
            <option value="fr">FranÃ§ais</option>
            <option value="es">EspaÃ±ol</option>
            <option value="de">Deutsch</option>
            <option value="pt">PortuguÃªs</option>
            <option value="it">Italiano</option>
            <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            <option value="zh">ä¸­æ–‡</option>
            <option value="ja">æ—¥æœ¬èª</option>
            <option value="ko">í•œêµ­ì–´</option>
            <option value="tr">TÃ¼rkÃ§e</option>
            <option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
            <option value="bn">à¦¬à¦¾à¦‚à¦²à¦¾</option>
            <option value="ur">Ø§Ø±Ø¯Ùˆ</option>
        </select>
    </div>

    <!-- Header -->
    <header class="app-header">
        <div class="logo">
            <img src="image/logo.png" alt="ScoutMe" class="logo-image">
            <span class="logo-text" data-i18n="appName">ScoutMe</span>
        </div>
        <div class="header-actions">
            <button class="wallet-btn" onclick="openWalletModal()">
                <span class="wallet-icon">Ï€</span>
                <span class="wallet-balance" id="walletBalance">0 Pi</span>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Home Page -->
        <section id="homePage" class="page active">
            <!-- Banner -->
            <div class="banner">
                <div class="banner-content">
                    <h1 data-i18n="bannerTitle">Ø§ÙƒØªØ´Ù Ù†Ø¬ÙˆÙ… Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„</h1>
                    <p data-i18n="bannerSubtitle">Ù…Ù†ØµØ© Ø¹Ø§Ù„Ù…ÙŠØ© Ù„Ù„Ù…ÙˆØ§Ù‡Ø¨ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©</p>
                </div>
            </div>

            <!-- Spotlight Talents -->
            <div class="section">
                <div class="section-header">
                    <h2 data-i18n="spotlightTalents">Ù…ÙˆØ§Ù‡Ø¨ Ù…Ù…ÙŠØ²Ø©</h2>
                    <a href="#" class="view-all" data-i18n="viewAll">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</a>
                </div>
                <div class="horizontal-scroll" id="spotlightContainer">
                    <!-- Dynamic content -->
                </div>
            </div>

            <!-- Latest News -->
            <div class="section">
                <div class="section-header">
                    <h2 data-i18n="latestNews">Ø¢Ø®Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h2>
                </div>
                <div class="news-list" id="newsContainer">
                    <!-- Dynamic content -->
                </div>
            </div>
        </section>

        <!-- Discover Page -->
        <section id="discoverPage" class="page">
            <div class="search-section">
                <div class="search-bar">
                    <span class="search-icon">ğŸ”</span>
                    <input type="text" id="searchInput" data-i18n-placeholder="searchPlaceholder" placeholder="Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†...">
                </div>
                <div class="filters" id="sportsFilters">
                    <!-- Dynamic sports filters -->
                </div>
            </div>
            <div class="grid-view" id="discoverGrid">
                <!-- Dynamic content -->
            </div>
        </section>

        <!-- Talents Page -->
        <section id="talentsPage" class="page">
            <div class="page-header">
                <h1 data-i18n="talentsTitle">Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©</h1>
                <div class="sort-controls">
                    <select id="sortSelect">
                        <option value="rating" data-i18n="sortByRating">Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹</option>
                        <option value="age" data-i18n="sortByAge">Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù…Ø±</option>
                        <option value="country" data-i18n="sortByCountry">Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆÙ„Ø©</option>
                    </select>
                </div>
            </div>
            <div class="talents-list" id="talentsList">
                <!-- Dynamic content -->
            </div>
        </section>

        <!-- Clubs Page -->
        <section id="clubsPage" class="page">
            <div class="page-header">
                <h1 data-i18n="clubsTitle">Ø§Ù„Ø£Ù†Ø¯ÙŠØ© ÙˆØ§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ§Øª</h1>
            </div>
            <div class="clubs-list" id="clubsList">
                <!-- Dynamic content -->
            </div>
        </section>

        <!-- Marketplace Page -->
        <section id="marketplacePage" class="page">
            <div class="page-header">
                <h1 data-i18n="marketplace">Ø§Ù„Ù…ØªØ¬Ø±</h1>
            </div>
            
            <!-- Team Tokens -->
            <div class="section">
                <div class="section-header">
                    <h2 data-i18n="team_tokens">ØªÙˆÙƒÙ†Ø§Øª Ø§Ù„ÙØ±Ù‚</h2>
                </div>
                <div class="horizontal-scroll" id="teamTokensContainer">
                    <!-- Dynamic content -->
                </div>
            </div>

            <!-- NFT Players -->
            <div class="section">
                <div class="section-header">
                    <h2 data-i18n="nft_players">NFT Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</h2>
                </div>
                <div class="horizontal-scroll" id="nftPlayersContainer">
                    <!-- Dynamic content -->
                </div>
            </div>

            <!-- Pi Ecosystem Stores -->
            <div class="section">
                <div class="section-header">
                    <h2 data-i18n="pi_stores">Ù…ØªØ§Ø¬Ø± Ù…Ù†Ø¸ÙˆÙ…Ø© Pi</h2>
                </div>
                <p class="section-desc" data-i18n="marketplace_desc">Ø§ÙƒØªØ´Ù Ù…ØªØ§Ø¬Ø± Ø´Ø±ÙŠÙƒØ© Ø¯Ø§Ø®Ù„ Ù†Ø¸Ø§Ù… Pi</p>
                <div class="stores-grid" id="storesContainer">
                    <!-- Dynamic content -->
                </div>
            </div>
        </section>

        <!-- Profile Page -->
        <section id="profilePage" class="page">
            <div class="profile-header">
                <div class="profile-avatar">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Ccircle cx='60' cy='60' r='60' fill='%231F7A1F'/%3E%3Ctext x='60' y='75' font-size='48' fill='%23FFD700' text-anchor='middle' font-family='Arial'%3EU%3C/text%3E%3C/svg%3E" alt="Profile" id="profileAvatar">
                </div>
                <h2 class="profile-name" id="profileName" data-i18n="userName">Ù…Ø³ØªØ®Ø¯Ù… ScoutMe</h2>
                <div class="profile-wallet">
                    <span data-i18n="wallet_address">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©:</span>
                    <span id="profileWalletAddress">--</span>
                </div>
                <div class="trust-score">
                    <span class="stars">â­â­â­â­â­</span>
                    <span class="score">4.8</span>
                </div>
            </div>
            <div class="profile-tabs">
                <button class="tab-btn active" data-tab="overview" data-i18n="overview">Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</button>
                <button class="tab-btn" data-tab="stats" data-i18n="stats">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</button>
                <button class="tab-btn" data-tab="nfts" data-i18n="nfts">NFTs</button>
                <button class="tab-btn" data-tab="settings" data-i18n="settings">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
            </div>
            <div class="profile-content">
                <div class="tab-content active" id="overviewTab">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ¯</div>
                            <div class="stat-value">156</div>
                            <div class="stat-label" data-i18n="goals">Ø£Ù‡Ø¯Ø§Ù</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">âš¡</div>
                            <div class="stat-value">89</div>
                            <div class="stat-label" data-i18n="assists">ØªÙ…Ø±ÙŠØ±Ø§Øª</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ†</div>
                            <div class="stat-value">12</div>
                            <div class="stat-label" data-i18n="awards">Ø¬ÙˆØ§Ø¦Ø²</div>
                        </div>
                    </div>
                </div>
                <div class="tab-content" id="statsTab">
                    <p data-i18n="statsComingSoon">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© Ù‚Ø±ÙŠØ¨Ø§Ù‹...</p>
                </div>
                <div class="tab-content" id="nftsTab">
                    <div id="userNftsContainer">
                        <!-- Dynamic NFTs -->
                    </div>
                </div>
                <div class="tab-content" id="settingsTab">
                    <div class="settings-list">
                        <div class="setting-item">
                            <span data-i18n="language">Ø§Ù„Ù„ØºØ©</span>
                            <span id="currentLangDisplay">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
                        </div>
                        <div class="setting-item">
                            <span data-i18n="notifications">Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</span>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <span data-i18n="darkMode">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ</span>
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <span data-i18n="app_commission">Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (%)</span>
                            <span>5%</span>
                        </div>
                        <div class="setting-item">
                            <button class="btn-primary" onclick="linkPiWallet()" data-i18n="link_wallet">Ø±Ø¨Ø· Ù…Ø­ÙØ¸Ø© Pi</button>
                        </div>
                    </div>
                    <p class="dev-note" data-i18n="dev_note">Ù…Ù„Ø§Ø­Ø¸Ø©: Ù„Ù„Ø¯ÙØ¹ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø¹Ø¨Ø± Pi Ø§Ø³ØªØ¹Ù…Ù„ Ø³ÙŠØ±ÙØ±/Function Ù„Ø­Ù…Ø§ÙŠØ© PI_API_KEY.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Navigation Bar -->
    <nav class="bottom-nav">
        <button class="nav-btn active" data-page="homePage">
            <span class="nav-icon">ğŸ </span>
            <span class="nav-label" data-i18n="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        </button>
        <button class="nav-btn" data-page="discoverPage">
            <span class="nav-icon">ğŸ”</span>
            <span class="nav-label" data-i18n="discover">Ø§Ø³ØªÙƒØ´Ù</span>
        </button>
        <button class="nav-btn" data-page="talentsPage">
            <span class="nav-icon">â­</span>
            <span class="nav-label" data-i18n="talents">Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨</span>
        </button>
        <button class="nav-btn" data-page="clubsPage">
            <span class="nav-icon">ğŸ†</span>
            <span class="nav-label" data-i18n="clubs">Ø§Ù„Ø£Ù†Ø¯ÙŠØ©</span>
        </button>
        <button class="nav-btn" data-page="marketplacePage">
            <span class="nav-icon">ğŸ›ï¸</span>
            <span class="nav-label" data-i18n="marketplace">Ø§Ù„Ù…ØªØ¬Ø±</span>
        </button>
        <button class="nav-btn" data-page="profilePage">
            <span class="nav-icon">ğŸ‘¤</span>
            <span class="nav-label" data-i18n="profile">Ø§Ù„Ù…Ù„Ù</span>
        </button>
    </nav>

    <!-- Wallet Modal -->
    <div id="walletModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeWalletModal()">&times;</span>
            <h2 data-i18n="wallet">Ø§Ù„Ù…Ø­ÙØ¸Ø©</h2>
            <div class="wallet-balance-card">
                <div class="balance-label" data-i18n="currentBalance">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
                <div class="balance-amount" id="modalWalletBalance">0 Pi</div>
            </div>
            <div class="wallet-info">
                <p><strong data-i18n="wallet_address">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©:</strong></p>
                <p id="modalWalletAddress" class="wallet-address-text">--</p>
            </div>
            <div class="wallet-actions">
                <button class="wallet-action-btn" data-i18n="send">Ø¥Ø±Ø³Ø§Ù„</button>
                <button class="wallet-action-btn" data-i18n="receive">Ø§Ø³ØªÙ‚Ø¨Ø§Ù„</button>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePaymentModal()">&times;</span>
            <h2 data-i18n="payment_with_pi">Ø§Ù„Ø¯ÙØ¹ Ø¨Ù€ Pi</h2>
            <div id="paymentInfo">
                <!-- Dynamic payment details -->
            </div>
            <div class="payment-amount-selector">
                <label data-i18n="select_amount">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¨Ù„Øº:</label>
                <select id="piPayAmount">
                    <option value="0.5">0.5 Pi</option>
                    <option value="1" selected>1 Pi</option>
                    <option value="2">2 Pi</option>
                </select>
            </div>
            <button class="btn-primary btn-full" onclick="confirmPayment()">
                <span data-i18n="confirm_payment">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹</span>
            </button>
        </div>
    </div>

    <!-- Pi SDK -->
    <script src="https://sdk.minepi.com/pi-sdk.js"></script>
    <script>
        // Pi SDK Initialization
        try {
            const params = new URLSearchParams(window.location.search || '');
            const sandboxParam = params.get('sandbox');
            const prodParam = params.get('prod');

            if (sandboxParam === '1') localStorage.setItem('PI_SANDBOX', '1');
            if (prodParam === '1') localStorage.setItem('PI_SANDBOX', '0');

            const persistedSandbox = localStorage.getItem('PI_SANDBOX') === '1';
            const hostSandbox = String(window.location.hostname || '').toLowerCase().includes('sandbox.minepi.com');
            const refSandbox = String(document.referrer || '').toLowerCase().includes('sandbox.minepi.com');
            let ancestorSandbox = false;
            try {
                const origins = window.location.ancestorOrigins;
                if (origins && typeof origins.length === 'number') {
                    for (let i = 0; i < origins.length; i++) {
                        if (String(origins[i] || '').toLowerCase().includes('sandbox.minepi.com')) {
                            ancestorSandbox = true;
                            break;
                        }
                    }
                }
            } catch (e) {}

            let inIframe = false;
            try { inIframe = window.self !== window.top; } catch (e) { inIframe = true; }

            const useSandbox = sandboxParam === '1' || (sandboxParam !== '0' && (persistedSandbox || hostSandbox || (inIframe && (refSandbox || ancestorSandbox))));

            if (window.Pi && typeof window.Pi.init === 'function') {
                window.Pi.init({ version: "2.0", sandbox: useSandbox });
            }
        } catch (e) {
            console.warn('Pi.init failed', e);
        }
    </script>
    <script src="script.js"></script>
    <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyDTA98HsQ_wlpbAAOJux4kynyg-EPQoOTM",
    authDomain: "scoutme-73fb8.firebaseapp.com",
    projectId: "scoutme-73fb8",
    storageBucket: "scoutme-73fb8.firebasestorage.app",
    messagingSenderId: "394693573994",
    appId: "1:394693573994:web:d95d66452eb0725ef13913"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
</script>
</body>
</html>
