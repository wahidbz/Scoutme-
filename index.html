<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScoutMe - ุงูุชุดู ุงูููุงูุจ ุงูุฑูุงุถูุฉ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Registration Overlay (Pi Network Authentication) -->
    <div id="reg-overlay" class="reg-overlay">
        <div class="reg-content">
            <img src="image/logo.png" alt="ScoutMe Logo" class="reg-logo">
            <h1 data-i18n="welcome_to_scoutme">ูุฑุญุจุง ุจู ูู ScoutMe</h1>
            <p data-i18n="pi_network_login_desc">ุณุฌู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู Pi Network ูููุตูู ุฅูู ุงูููุตุฉ</p>
            <button class="btn-pi-signin" onclick="piSignIn()">
                <span class="pi-icon">ฯ</span>
                <span data-i18n="signin_with_pi">ุชุณุฌูู ุงูุฏุฎูู ุนุจุฑ Pi Network</span>
            </button>
        </div>
    </div>

    <!-- Language Selector -->
    <div class="language-selector">
        <select id="languageSelect">
            <option value="ar">ุงูุนุฑุจูุฉ</option>
            <option value="en">English</option>
            <option value="fr">Franรงais</option>
            <option value="es">Espaรฑol</option>
            <option value="de">Deutsch</option>
            <option value="pt">Portuguรชs</option>
            <option value="it">Italiano</option>
            <option value="ru">ะัััะบะธะน</option>
            <option value="zh">ไธญๆ</option>
            <option value="ja">ๆฅๆฌ่ช</option>
            <option value="ko">ํ๊ตญ์ด</option>
            <option value="tr">Tรผrkรงe</option>
            <option value="hi">เคนเคฟเคจเฅเคฆเฅ</option>
            <option value="bn">เฆฌเฆพเฆเฆฒเฆพ</option>
            <option value="ur">ุงุฑุฏู</option>
        </select>
    </div>

    <!-- Header -->
    <header class="app-header">
        <div class="logo">
            <img src="image/logo.png" alt="ScoutMe" class="logo-image">
            <span class="logo-text" data-i18n="appName">ScoutMe</span>
        </div>
        <div class="header-actions">
            <button class="wallet-btn" onclick="openWalletModal()">
                <span class="wallet-icon">ฯ</span>
                <span class="wallet-balance" id="walletBalance">0 Pi</span>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Home Page -->
        <section id="homePage" class="page active">
            <!-- Banner -->
            <div class="banner">
                <div class="banner-content">
                    <h1 data-i18n="bannerTitle">ุงูุชุดู ูุฌูู ุงููุณุชูุจู</h1>
                    <p data-i18n="bannerSubtitle">ููุตุฉ ุนุงูููุฉ ููููุงูุจ ุงูุฑูุงุถูุฉ</p>
                </div>
            </div>

            <!-- Spotlight Talents -->
            <div class="section">
                <div class="section-header">
                    <h2 data-i18n="spotlightTalents">ููุงูุจ ูููุฒุฉ</h2>
                    <a href="#" class="view-all" data-i18n="viewAll">ุนุฑุถ ุงููู</a>
                </div>
                <div class="horizontal-scroll" id="spotlightContainer">
                    <!-- Dynamic content -->
                </div>
            </div>

            <!-- Latest News -->
            <div class="section">
                <div class="section-header">
                    <h2 data-i18n="latestNews">ุขุฎุฑ ุงูุฃุฎุจุงุฑ</h2>
                </div>
                <div class="news-list" id="newsContainer">
                    <!-- Dynamic content -->
                </div>
            </div>
        </section>

        <!-- Discover Page -->
        <section id="discoverPage" class="page">
            <div class="search-section">
                <div class="search-bar">
                    <span class="search-icon">๐</span>
                    <input type="text" id="searchInput" data-i18n-placeholder="searchPlaceholder" placeholder="ุงูุจุญุซ ุนู ุงููุงุนุจูู...">
                </div>
                <div class="filters" id="sportsFilters">
                    <!-- Dynamic sports filters -->
                </div>
            </div>
            <div class="grid-view" id="discoverGrid">
                <!-- Dynamic content -->
            </div>
        </section>

        <!-- Talents Page -->
        <section id="talentsPage" class="page">
            <div class="page-header">
                <h1 data-i18n="talentsTitle">ุงูููุงูุจ ุงูุฑูุงุถูุฉ</h1>
                <div class="sort-controls">
                    <select id="sortSelect">
                        <option value="rating" data-i18n="sortByRating">ุงูุฃุนูู ุชููููุงู</option>
                        <option value="age" data-i18n="sortByAge">ุญุณุจ ุงูุนูุฑ</option>
                        <option value="country" data-i18n="sortByCountry">ุญุณุจ ุงูุฏููุฉ</option>
                    </select>
                </div>
            </div>
            <div class="talents-list" id="talentsList">
                <!-- Dynamic content -->
            </div>
        </section>

        <!-- Clubs Page -->
        <section id="clubsPage" class="page">
            <div class="page-header">
                <h1 data-i18n="clubsTitle">ุงูุฃูุฏูุฉ ูุงูุฃูุงุฏูููุงุช</h1>
            </div>
            <div class="clubs-list" id="clubsList">
                <!-- Dynamic content -->
            </div>
        </section>

        <!-- Marketplace Page -->
        <section id="marketplacePage" class="page">
            <div class="page-header">
                <h1 data-i18n="marketplace">ุงููุชุฌุฑ</h1>
            </div>
            
            <!-- Team Tokens -->
            <div class="section">
                <div class="section-header">
                    <h2 data-i18n="team_tokens">ุชูููุงุช ุงููุฑู</h2>
                </div>
                <div class="horizontal-scroll" id="teamTokensContainer">
                    <!-- Dynamic content -->
                </div>
            </div>

            <!-- NFT Players -->
            <div class="section">
                <div class="section-header">
                    <h2 data-i18n="nft_players">NFT ุงููุงุนุจูู</h2>
                </div>
                <div class="horizontal-scroll" id="nftPlayersContainer">
                    <!-- Dynamic content -->
                </div>
            </div>

            <!-- Pi Ecosystem Stores -->
            <div class="section">
                <div class="section-header">
                    <h2 data-i18n="pi_stores">ูุชุงุฌุฑ ููุธููุฉ Pi</h2>
                </div>
                <p class="section-desc" data-i18n="marketplace_desc">ุงูุชุดู ูุชุงุฌุฑ ุดุฑููุฉ ุฏุงุฎู ูุธุงู Pi</p>
                <div class="stores-grid" id="storesContainer">
                    <!-- Dynamic content -->
                </div>
            </div>
        </section>

        <!-- Profile Page -->
        <section id="profilePage" class="page">
            <div class="profile-header">
                <div class="profile-avatar">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Ccircle cx='60' cy='60' r='60' fill='%231F7A1F'/%3E%3Ctext x='60' y='75' font-size='48' fill='%23FFD700' text-anchor='middle' font-family='Arial'%3EU%3C/text%3E%3C/svg%3E" alt="Profile" id="profileAvatar">
                </div>
                <h2 class="profile-name" id="profileName" data-i18n="userName">ูุณุชุฎุฏู ScoutMe</h2>
                <div class="profile-wallet">
                    <span data-i18n="wallet_address">ุนููุงู ุงููุญูุธุฉ:</span>
                    <span id="profileWalletAddress">--</span>
                </div>
                <div class="trust-score">
                    <span class="stars">โญโญโญโญโญ</span>
                    <span class="score">4.8</span>
                </div>
            </div>
            <div class="profile-tabs">
                <button class="tab-btn active" data-tab="overview" data-i18n="overview">ูุธุฑุฉ ุนุงูุฉ</button>
                <button class="tab-btn" data-tab="stats" data-i18n="stats">ุงูุฅุญุตุงุฆูุงุช</button>
                <button class="tab-btn" data-tab="nfts" data-i18n="nfts">NFTs</button>
                <button class="tab-btn" data-tab="settings" data-i18n="settings">ุงูุฅุนุฏุงุฏุงุช</button>
            </div>
            <div class="profile-content">
                <div class="tab-content active" id="overviewTab">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">๐ฏ</div>
                            <div class="stat-value">156</div>
                            <div class="stat-label" data-i18n="goals">ุฃูุฏุงู</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">โก</div>
                            <div class="stat-value">89</div>
                            <div class="stat-label" data-i18n="assists">ุชูุฑูุฑุงุช</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">๐</div>
                            <div class="stat-value">12</div>
                            <div class="stat-label" data-i18n="awards">ุฌูุงุฆุฒ</div>
                        </div>
                    </div>
                </div>
                <div class="tab-content" id="statsTab">
                    <p data-i18n="statsComingSoon">ุงูุฅุญุตุงุฆูุงุช ุงูุชูุตูููุฉ ูุฑูุจุงู...</p>
                </div>
                <div class="tab-content" id="nftsTab">
                    <div id="userNftsContainer">
                        <!-- Dynamic NFTs -->
                    </div>
                </div>
                <div class="tab-content" id="settingsTab">
                    <div class="settings-list">
                        <div class="setting-item">
                            <span data-i18n="language">ุงููุบุฉ</span>
                            <span id="currentLangDisplay">ุงูุนุฑุจูุฉ</span>
                        </div>
                        <div class="setting-item">
                            <span data-i18n="notifications">ุงูุฅุดุนุงุฑุงุช</span>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <span data-i18n="darkMode">ุงููุถุน ุงููููู</span>
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <span data-i18n="app_commission">ุนูููุฉ ุงูุชุทุจูู (%)</span>
                            <span>5%</span>
                        </div>
                        <div class="setting-item">
                            <button class="btn-primary" onclick="linkPiWallet()" data-i18n="link_wallet">ุฑุจุท ูุญูุธุฉ Pi</button>
                        </div>
                    </div>
                    <p class="dev-note" data-i18n="dev_note">ููุงุญุธุฉ: ููุฏูุน ุงูุญูููู ุนุจุฑ Pi ุงุณุชุนูู ุณูุฑูุฑ/Function ูุญูุงูุฉ PI_API_KEY.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Navigation Bar -->
    <nav class="bottom-nav">
        <button class="nav-btn active" data-page="homePage">
            <span class="nav-icon">๐</span>
            <span class="nav-label" data-i18n="home">ุงูุฑุฆูุณูุฉ</span>
        </button>
        <button class="nav-btn" data-page="discoverPage">
            <span class="nav-icon">๐</span>
            <span class="nav-label" data-i18n="discover">ุงุณุชูุดู</span>
        </button>
        <button class="nav-btn" data-page="talentsPage">
            <span class="nav-icon">โญ</span>
            <span class="nav-label" data-i18n="talents">ุงูููุงูุจ</span>
        </button>
        <button class="nav-btn" data-page="clubsPage">
            <span class="nav-icon">๐</span>
            <span class="nav-label" data-i18n="clubs">ุงูุฃูุฏูุฉ</span>
        </button>
        <button class="nav-btn" data-page="marketplacePage">
            <span class="nav-icon">๐๏ธ</span>
            <span class="nav-label" data-i18n="marketplace">ุงููุชุฌุฑ</span>
        </button>
        <button class="nav-btn" data-page="profilePage">
            <span class="nav-icon">๐ค</span>
            <span class="nav-label" data-i18n="profile">ุงูููู</span>
        </button>
    </nav>

    <!-- Wallet Modal -->
    <div id="walletModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeWalletModal()">&times;</span>
            <h2 data-i18n="wallet">ุงููุญูุธุฉ</h2>
            <div class="wallet-balance-card">
                <div class="balance-label" data-i18n="currentBalance">ุงูุฑุตูุฏ ุงูุญุงูู</div>
                <div class="balance-amount" id="modalWalletBalance">0 Pi</div>
            </div>
            <div class="wallet-info">
                <p><strong data-i18n="wallet_address">ุนููุงู ุงููุญูุธุฉ:</strong></p>
                <p id="modalWalletAddress" class="wallet-address-text">--</p>
            </div>
            <div class="wallet-actions">
                <button class="wallet-action-btn" data-i18n="send">ุฅุฑุณุงู</button>
                <button class="wallet-action-btn" data-i18n="receive">ุงุณุชูุจุงู</button>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePaymentModal()">&times;</span>
            <h2 data-i18n="payment_with_pi">ุงูุฏูุน ุจู Pi</h2>
            <div id="paymentInfo">
                <!-- Dynamic payment details -->
            </div>
            <div class="payment-amount-selector">
                <label data-i18n="select_amount">ุงุฎุชุฑ ุงููุจูุบ:</label>
                <select id="piPayAmount">
                    <option value="0.5">0.5 Pi</option>
                    <option value="1" selected>1 Pi</option>
                    <option value="2">2 Pi</option>
                </select>
            </div>
            <button class="btn-primary btn-full" onclick="confirmPayment()">
                <span data-i18n="confirm_payment">ุชุฃููุฏ ุงูุฏูุน</span>
            </button>
        </div>
    </div>

    <!-- Pi SDK -->
    <script src="https://sdk.minepi.com/pi-sdk.js"></script>
    <script>
        // Pi SDK Initialization
        try {
            const params = new URLSearchParams(window.location.search || '');
            const sandboxParam = params.get('sandbox');
            const prodParam = params.get('prod');

            if (sandboxParam === '1') localStorage.setItem('PI_SANDBOX', '1');
            if (prodParam === '1') localStorage.setItem('PI_SANDBOX', '0');

            const persistedSandbox = localStorage.getItem('PI_SANDBOX') === '1';
            const hostSandbox = String(window.location.hostname || '').toLowerCase().includes('sandbox.minepi.com');
            const refSandbox = String(document.referrer || '').toLowerCase().includes('sandbox.minepi.com');
            let ancestorSandbox = false;
            try {
                const origins = window.location.ancestorOrigins;
                if (origins && typeof origins.length === 'number') {
                    for (let i = 0; i < origins.length; i++) {
                        if (String(origins[i] || '').toLowerCase().includes('sandbox.minepi.com')) {
                            ancestorSandbox = true;
                            break;
                        }
                    }
                }
            } catch (e) {}

            let inIframe = false;
            try { inIframe = window.self !== window.top; } catch (e) { inIframe = true; }

            const useSandbox = sandboxParam === '1' || (sandboxParam !== '0' && (persistedSandbox || hostSandbox || (inIframe && (refSandbox || ancestorSandbox))));

            if (window.Pi && typeof window.Pi.init === 'function') {
                window.Pi.init({ version: "2.0", sandbox: useSandbox });
            }
        } catch (e) {
            console.warn('Pi.init failed', e);
        }
    </script>
    <script src="script.js"></script>
</body>
</html>
